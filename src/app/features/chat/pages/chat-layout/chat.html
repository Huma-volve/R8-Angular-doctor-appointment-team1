<section class="container-fluid py-2">
  <div class="row chat-wrapper">
    <div class="col-12 col-md-3 pe-0" [class.d-none]="isMobileChatActive" [class.d-md-block]="true">
      <app-chat-list></app-chat-list>
    </div>
    <div
      class="chat-det col-12 col-md-9 p-0 bg-secondary"
      [class.d-none]="!isMobileChatActive"
      [class.d-md-block]="true"
    >
      <div class="inner-chat-del d-flex flex-column">
        <div class="head d-flex align-items-center">
          <button class="btn d-md-none text-black" (click)="backToList()">
            <i class="fas fa-arrow-left"></i>
          </button>
          <app-title-chat class="flex-grow-1"></app-title-chat>
        </div>
        <div class="body bg-white flex-grow-1">
          <app-body-chat></app-body-chat>
        </div>
        <div class="footer-chat">
          <div class="chat-input-container row px-2">
            <div class="input-wrapper col-8">
              <input
                #messageInput
                type="text"
                placeholder="Message"
                class="chat-input"
                (keydown.enter)="send(messageInput.value); messageInput.value = ''"
              />
              <div class="input-icons">
                <input type="file" #fileInput (change)="onFileSelected($event)" hidden />
                <button type="button" class="icon-btn" (click)="fileInput.click()">
                  <i class="fas fa-paperclip"></i>
                </button>
                <button type="button" class="icon-btn" (click)="fileInput.click()">
                  <i class="fas fa-camera"></i>
                </button>
              </div>
            </div>
            <button
              type="button"
              class="mic-btn col-1 p-0 mx-1"
              [class.recording]="isRecording"
              (mousedown)="startRecording()"
              (mouseup)="stopRecording()"
              (mouseleave)="isRecording ? stopRecording() : null"
            >
              <i
                class="fa-solid"
                [class.fa-microphone]="!isRecording"
                [class.fa-stop]="isRecording"
              ></i>
            </button>
            <button
              class="mic-btn col-1 p-0"
              (click)="send(messageInput.value); messageInput.value = ''"
            >
              <i class="fa-solid fa-paper-plane"></i>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>