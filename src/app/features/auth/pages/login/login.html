<section class="register-form">
    <app-form-header [formTitle]="'login'"
        [formDesc]="'Please provide all information required to create your account'"></app-form-header>

    <div class="content">
        <form [formGroup]="loginForm" (submit)="lgoinUser()">

             <div class="form-group">
                    <label for="phone" class="form-label">phone </label>
                        <div class="input-group mb-3 no-wrap">
                        <span class="input-group-text">
                            <img
                            src="https://flagcdn.com/w20/eg.png"
                            alt="EG"
                            width="20"
                            height="15"
                            class="me-1"
                            />
                        </span>

                        <input
                        type="tel"
                    id="phone"
                    class="form-control"
                    placeholder="format must be +20XXXXXXXXXX"
                    
                    formControlName="phone"
                        />
                        </div>

      </div>
        @if(loginForm.get('phone')?.touched) {

          @if(loginForm.get('phone')?.errors?.['required']) {
            <div class="text-danger pt-1 pb-1"> phone is required.</div>
          }
          @if(loginForm.get('phone')?.errors?.['server']) {
            <div class="text-danger pt-1 pb-1">{{loginForm.get('phone')?.errors?.['server']}}</div>
          }
      }
        <div class="form-group">
        <label for="password" class="form-label">Password</label>
        <input
          type="password"
          id="password"
          name="password"
          placeholder="password"
          class="form-control"
          formControlName="password"
        />
      </div>
      @if(loginForm.get('password')?.touched) {

          @if(loginForm.get('password')?.errors?.['required']) {
            <div class="text-danger pt-1 pb-1"> password is required.</div>
          }
          @if((loginForm.get('password')?.errors?.['server']) ) {
            <div class="text-danger pt-1 pb-1">{{loginForm.get('password')?.errors?.['server']}}</div>
            
          }
      }
            <button class="btn btn-primary w-100" [disabled]="loginForm.invalid || loading">
 
    @if (!loading) {
      <span>Login</span>
    }@else {
      <span>
      <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
      Loading...
    </span>
    }
    
  </button>
  @if(resultMessage){
        <div class="text-success pt-2 pb-1 text-center">{{resultMessage}}</div>
    }@else if(serverErrors)
    {
      <div class="text-danger pt-2 pb-1 text-center">
          {{serverErrors}}
      </div>
    }
        </form>
        <div class="or-divider mt-3 mb-3">
            <span>or</span>
        </div>
      <app-google-login [label]="'sign in' "></app-google-login>


        <p class="text-center pt-3 ">need an account <a class="cursor-pointer text-decoration-none px-2"
                routerLink="/register">register</a></p>
         <a class="cursor-pointer text-center text-decoration-none px-2"
                routerLink="/editPhone">Forget Password</a>

    </div>
</section>